{% extends 'base.html' %}
{% block content %}
<div class="container my-3">
    <div class="row justify-content-end my-3">
        <div class="col-4 input-group">
            <input type="text" class="form-control kw" value="{{ kw|default_if_none:'' }}">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" id="btn_search">찾기</button>
            </div>

        </div>
    </div>


    <table class="table">
        <thead>
            <tr class="thead-dark">
                <th>번호</th>
                <th>뉴스제목</th>
                <th>기자</th>
                <th>작성일자</th>
            </tr>
        </thead>
        <tbody>
        {% if news_list %} <!-- 분기 시작 -->
        {% for news in news_list %}<!-- 반복 시작 -->
            <tr>
                <!--
                21.09.27 번호 출력 변경
                번호 = 전체건수 - 시작인덱스 - 현재인덱스 +1 
                -->
                <td>{{news.id}}</td>

                <td>
                    <a href="">{{ news.subject }}</a> <!-- 객체출력 (객체.속성) -->
                </td>
                <td>{{ news.author.username }}</td>
                <td>{{ news.create_date }}</td>
            </tr>
        {% endfor %}<!-- 반복 종료 -->
        {% else %}
            <tr>
                <td>뉴스가 없습니다.</td>
            </tr>
        {% endif %} <!-- 분기종료 -->
        </tbody>
    </table>
    
    <a href="{% url 'board:question_create' %}" class="btn btn-primary">뉴스 등록하기</a>
</div>
<form id="searchForm" method="get" action="{% url 'index' %}">
    <input type="hidden" id="kw" name="kw" value="{{ kw|default_if_none:'' }}">
    <input type="hidden" id="page" name="page" value="{{ page }}">
</form>

{% endblock %}
